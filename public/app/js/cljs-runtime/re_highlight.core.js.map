{"version":3,"sources":["re_highlight/core.cljs"],"mappings":";;;;;;;AAQA,AAAKA,2CAAuB,4FAAA,5FAACC,8CAASC;AACtC,AAAeC,2CAAuB,4FAAA,5FAACF,8CAASC;AAChD,AAAKE,2CAAuB,4FAAA,5FAACH,8CAASC;AAEtC;;;;;;2CAAA,3CAAMG;AAAN,AAME,4EAAA,nEACE,AAACC,oBAAIN,iDACL,AAACM,oBAAIH,+CACL,AAACG,oBAAIF;;AAET,sCAAA,tCAAMG,oFACHC,MAAMC;AADT,AAEE,GAAM,AAACH,oBAAIF;AAAX,AACE,QAACA,yEAAAA,uFAAAA,hBAAuBI,oEAAAA,9DAAMC,oEAAAA;;AADhC;;;AAGF,oCAAA,pCAACF,8CAA4BG;AAE7B,AAAA,8BAAA,sCAAAC,pEAAMM;AAAN,AAAA,IAAAL,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAAK,iEAAAF;;;AAAA,AAAA,CAAA,mEAAA,nEAAME,8EACDI;AADL,AAEE,IAAUC,MAAI,AAACC;AAAf,AACE,+DAAA,2CAAA,nGAACC,uLAEE,WAAKH;AAAL,AACE,IAAAI,qBAAc,0DAAA,1DAACxB,8CAAS,AAAWqB;AAAnC,AAAA,oBAAAG;AAAA,AAAA,SAAAA,LAAWC;AAAX,AACE,QAAC1B,yEAAAA,6EAAAA,NAAuB0B,0DAAAA;;AAD1B;;GAHL,sFAOG,WAAKL,MAAEA,MAAEA,MAAEA;AAAX,AACE,IAAAI,qBAAc,0DAAA,1DAACxB,8CAAS,AAAWqB;AAAnC,AAAA,oBAAAG;AAAA,AAAA,SAAAA,LAAWC;AAAX,AACE,uFAAA,SAAA,hGAACC,8CAASxB;;AACV,QAACH,yEAAAA,6EAAAA,NAAuB0B,0DAAAA;;AAF1B;;GARL,yEAaG;mCAAAE,SAAsCO;AAAtC,AAAA,IAAAN,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;aAAA,AAAAE,4CAAAF,eAAA,pEAAaG;YAAb,AAAAD,4CAAAF,eAAA,nEAAmBI;eAAnB,AAAAF,4CAAAF,eAAA,tEAAyBK;AAAzB,AAAA,0FAAA,mDAAA,2CAAA,uDAAA,+DAAA,nEAEWZ,4DACAU,8DACAC,cACR,6CAAA,mFAAA,qDAAA,2CAAA,hOAACG,wRAEUF,yBACTC;;yBARLP;IAAsCO;;;;EAAAA;;oCAAtCP,SAAsCO;;;IAAtCP;IAAsCO;0BAAtCP,SAAsCO;;;;;;;;AAhB7C,CAAA,sDAAA,tDAAMlB;;AAAN;AAAA,CAAA,gDAAA,WAAAC,3DAAMD;AAAN,AAAA,IAAAE,qBAAA;AAAA,AAAA,OAAAA,wDAAA,AAAAC,cAAAF;;;AAAA","names":["re-highlight.core/hljs-highlight-element","re_highlight.core.goog$module$goog$object.get","js/module$node_modules$highlight_DOT_js$lib$core","re-highlight.core/hljs-init-highlighting","re-highlight.core/hljs-register-language","re-highlight.core/hljs-compatible?","cljs.core/fn?","re-highlight.core/register-language","label","js-obj","js/module$node_modules$highlight_DOT_js$lib$languages$clojure","var_args","args__5732__auto__","len__5726__auto__","i__5727__auto__","argseq__5733__auto__","cljs.core/IndexedSeq","re-highlight.core/highlight","seq16096","self__5712__auto__","cljs.core/seq","_","ref","js/module$node_modules$react$index.createRef","reagent.core.create_class","temp__5804__auto__","el","re_highlight.core.goog$module$goog$object.set","p__16105","map__16107","cljs.core/--destructure-map","cljs.core.get","class","style","language","children","cljs.core.into"],"sourcesContent":["(ns re-highlight.core\n  (:require\n    [goog.object                          :as gobj]\n    [reagent.core                         :as r]\n    [\"highlight.js/lib/core\"              :as hljs]\n    [\"highlight.js/lib/languages/clojure\" :as clojure]\n    [\"react\"                              :as react]))\n\n(def hljs-highlight-element (gobj/get hljs \"highlightElement\"))\n(def ^:private hljs-init-highlighting (gobj/get hljs \"initHighlighting\"))\n(def hljs-register-language (gobj/get hljs \"registerLanguage\"))\n\n(defn hljs-compatible?\n  \"Return true if the Highlight.js library exposes the API we expect to see in\n   a compatible version, otherwise false. If this returns false, it is likely\n   that your transitive dependencies are pulling in a different version of\n   Highlight.js to the version that re-highlight depends on.\"\n  []\n  (and\n    (fn? hljs-highlight-element)\n    (fn? hljs-init-highlighting)\n    (fn? hljs-register-language)))\n\n(defn register-language\n  [label js-obj]\n  (when (fn? hljs-register-language)\n    (hljs-register-language label js-obj)))\n\n(register-language \"clojure\" clojure)\n\n(defn highlight\n  [& _]\n  (let [^js ref (react/createRef)]\n    (r/create-class\n      {:component-did-mount\n       (fn [_]\n         (when-let [el (gobj/get (.-current ref) \"firstChild\")]\n           (hljs-highlight-element el)))\n\n       :component-did-update\n       (fn [_ _ _ _]\n         (when-let [el (gobj/get (.-current ref) \"firstChild\")]\n           (gobj/set hljs-init-highlighting \"called\" false)\n           (hljs-highlight-element el)))\n\n       :reagent-render\n       (fn [{:keys [class style language]} & children]\n         [:pre\n          {:ref   ref\n           :class class\n           :style style}\n          (into\n            [:code\n             {:class language}]\n            children)])})))\n"],"x_google_ignoreList":[0]}