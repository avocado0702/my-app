{"version":3,"sources":["main/core/pages/login.cljs"],"mappings":";AAIA,mCAAA,nCAAMA;AAAN,AACE,IAAMC,WAAS,gDAAA,hDAACC;IACVC,WAAS,gDAAA,hDAACD;IACVE,gBAAc,sDAAA,mFAAA,zIAACC;AAFrB,AAGE;AAAA,AAAA,0FAAA,oFAAA,mFAAA,iFAAA,mFAAA,iDAAA,gBAAA,mFAAA,sDAAA,mFAAA,mDAAA,mFAAA,uDAAA,2CAAA,oDAAA,mBAAA,oBAAA,mFAAA,sDAAA,2CAAA,qDAAA,OAAA,kDAAA,WAAA,qDAAA,WAAA,sDAAA,AAAAC,0BAAA,+DAAA,WAAAC,pFAWqBN;AAXrB,AAYyB,OAACQ,sBAAOR,SAAS,AAAA,AAAAM;mBAZ1C,mFAAA,uDAAA,2CAAA,oDAAA,mBAAA,oBAAA,mFAAA,sDAAA,2CAAA,qDAAA,WAAA,kDAAA,WAAA,qDAAA,WAAA,sDAAA,AAAAD,0BAAA,+DAAA,WAAAE,pFAkBqBL;AAlBrB,AAmByB,OAACM,sBAAON,SAAS,AAAA,AAAAK;mBAnB1C,mFAAA,2FAAA,mFAAA,8CAAA,AAAAF,+CAAA,mFAAA,8EAAA,2CAAA,qDAAA,SAAA,zSAoByCF,sWAGlB;AAAA,AACE,GAAI,EAAK,GAAK,uBAAA,AAAAE,vBAACI,uCAAQT,kBAAW,GAAK,uBAAA,AAAAK,vBAACI,uCAAQP;AAC9C,AACE,YAAA,ZAACQ;;AACD,8BAAA,mFAAA,oEAAA,AAAAL,0BAAA,AAAAA,xMAACM,8LAAiCX,0BAAUE;;AAC9C,8BAAA,mFAAA,4FAAA,tMAACS;;WA5B5B,gBAAA,mFAAA,oFAAA,2CAAA,qDAAA,SAAA,6DAAA;AAAA,AAkCwB,8BAAA,mFAAA,8EAAA,xLAACA;WAlCzB","names":["main.core.pages.login/login-page","username","reagent.core.atom","password","error-message","re_frame.core.subscribe","cljs.core/deref","p1__12495#","p1__12496#","cljs.core/reset!","cljs.core/empty?","js/console.log","re-frame.core/dispatch"],"sourcesContent":["(ns main.core.pages.login\r\n  (:require [re-frame.core :as re-frame]\r\n            [reagent.core :as r]))\r\n\r\n(defn login-page []\r\n  (let [username (r/atom \"\")\r\n        password (r/atom \"\")\r\n        error-message (re-frame/subscribe [:get-log-in-error-message])]\r\n    (fn []\r\n      [:div.outer-container\r\n        [:div.login-container \r\n          [:h2 \"Login\"]\r\n          [:form\r\n            [:div\r\n              [:label {:for \"username\"} \"Username:\"]\r\n              [:input\r\n                {:type \"text\",\r\n                 :id \"username\",\r\n                 :name \"username\",\r\n                 :value @username,\r\n                 :on-change #(reset! username (-> % .-target .-value))}]\r\n              [:label {:for \"password\"} \"Password:\"]\r\n              [:input\r\n                {:type \"password\",\r\n                 :id \"password\",\r\n                 :name \"password\",\r\n                 :value @password,\r\n                 :on-change #(reset! password (-> % .-target .-value))}]\r\n              [:div.login.error-message [:p @error-message]]\r\n              [:button.login-btn\r\n                {:type \"button\",\r\n                 :on-click (fn []\r\n                             (if (and (not (empty? @username)) (not (empty? @password)))\r\n                               (do\r\n                                 (js/console.log \"clicked log in\")\r\n                                 (re-frame/dispatch [:login-check @username @password]))\r\n                               (re-frame/dispatch\r\n                                 [:set-login-error-message\r\n                                  \"Username and password cannot be empty\"])))}\r\n                \"Login\"]\r\n              [:button.register-btn\r\n                {:type \"button\",\r\n                 :on-click #(re-frame/dispatch [:set-current-page :register])}\r\n                \"New Account\"]]]]])))\r\n"]}