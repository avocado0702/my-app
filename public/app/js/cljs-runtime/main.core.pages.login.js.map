{"version":3,"sources":["main/core/pages/login.cljs"],"mappings":";;;AAMA,mCAAA,nCAAMA;AAAN,AAEE,IAAMC,WAAS,gDAAA,hDAACC;IACVC,WAAS,gDAAA,hDAACD;IACVE,gBAAc,sDAAA,mFAAA,zIAACC;AAFrB,AAGE;AAAA,AAAA,0FAAA,oFAAA,mFAAA,iFAAA,mFAAA,iDAAA,gBAAA,mFAAA,sDAAA,mFAAA,mDAAA,mFAAA,uDAAA,2CAAA,oDAAA,mBAAA,oBAAA,mFAAA,sDAAA,2CAAA,qDAAA,OAAA,kDAAA,WAAA,qDAAA,WAAA,sDAAA,AAAAC,0BAAA,+DAAA,WAAAC,pFASgBN;AAThB,AAUoB,OAACQ,sBAAOR,SAAS,AAAA,AAAAM;mBAVrC,mFAAA,uDAAA,2CAAA,oDAAA,mBAAA,oBAAA,mFAAA,sDAAA,2CAAA,qDAAA,WAAA,kDAAA,WAAA,qDAAA,WAAA,sDAAA,AAAAD,0BAAA,+DAAA,WAAAE,pFAkBgBL;AAlBhB,AAmBoB,OAACM,sBAAON,SAAS,AAAA,AAAAK;mBAnBrC,mFAAA,2FAAA,mFAAA,8CAAA,AAAAF,+CAAA,mFAAA,gHAAA,2CAAA,2DAAA,OAAA,iDAAA,2CAAA,iDAAA,uBAAA,mFAAA,2GAAA,2CAAA,5tBAsBqCF,iKAC3BM,odACCC,mKAEA;AAAA,AACE,GAAI,EAAK,GAAK,uBAAA,AAAAL,vBAACM,uCAAQX,kBAAW,GAAK,uBAAA,AAAAK,vBAACM,uCAAQT;AAC9C,AAAI,YAAA,ZAACU;;AACD,8BAAA,mFAAA,oEAAA,AAAAP,0BAAA,AAAAA,xMAACQ,8LAAiCb,0BAAUE;;AAChD,8BAAA,mFAAA,4FAAA,tMAACW;;WA9BhB,gBAAA,mFAAA,2GAAA,2CAAA,4DAAA,nKAiCWH;AAjCX,AAkCmB,8BAAA,mFAAA,8EAAA,xLAACG;WAlCpB","names":["main.core.pages.login/login-page","username","reagent.core.atom","password","error-message","re_frame.core.subscribe","cljs.core/deref","p1__26849#","p1__26850#","cljs.core/reset!","js/module$node_modules$$mui$material$node$ButtonGroup$index.default","js/module$node_modules$$mui$material$node$Button$index.default","cljs.core/empty?","js/console.log","re-frame.core/dispatch"],"sourcesContent":["(ns main.core.pages.login\r\n  (:require [\"@mui/material/Button\" :default Button]\r\n            [\"@mui/material/ButtonGroup\" :default ButtonGroup]\r\n            [re-frame.core :as re-frame]\r\n            [reagent.core :as r]))\r\n\r\n(defn login-page\r\n  []\r\n  (let [username (r/atom \"\")\r\n        password (r/atom \"\")\r\n        error-message (re-frame/subscribe [:get-log-in-error-message])]\r\n    (fn []\r\n      [:div.outer-container\r\n       [:div.login-container [:h2 \"Login\"]\r\n        [:form\r\n         [:div [:label {:for \"username\"} \"Username:\"]\r\n          [:input\r\n           {:type \"text\",\r\n            :id \"username\",\r\n            :name \"username\",\r\n            :value @username,\r\n            :on-change #(reset! username (-> %\r\n                                             .-target\r\n                                             .-value))}]\r\n          [:label {:for \"password\"} \"Password:\"]\r\n          [:input\r\n           {:type \"password\",\r\n            :id \"password\",\r\n            :name \"password\",\r\n            :value @password,\r\n            :on-change #(reset! password (-> %\r\n                                             .-target\r\n                                             .-value))}]\r\n          [:div.login.error-message [:p @error-message]]\r\n          [:> ButtonGroup {:variant \"text\", :sx {:gap \"16px\"}}\r\n           [:> Button\r\n            {:onClick\r\n               (fn []\r\n                 (if (and (not (empty? @username)) (not (empty? @password)))\r\n                   (do (js/console.log \"clicked log in\")\r\n                       (re-frame/dispatch [:login-check @username @password]))\r\n                   (re-frame/dispatch\r\n                     [:set-login-error-message\r\n                      \"Username and password cannot be empty\"])))} \"Login\"]\r\n           [:> Button\r\n            {:onClick #(re-frame/dispatch [:set-current-page :register])}\r\n            \"New Account\"]]]]]])))\r\n"]}