{"version":3,"sources":["main/core/pages/login.cljs"],"mappings":";;;;AAOA,mCAAA,nCAAMA;AAAN,AAEE,IAAMC,WAAS,gDAAA,hDAACC;IACVC,WAAS,gDAAA,hDAACD;IACVE,gBAAc,sDAAA,mFAAA,zIAACC;AAFrB,AAGE;AAAA,AAAA,0FAAA,oFAAA,mFAAA,iFAAA,mFAAA,iDAAA,gBAAA,mFAAA,4FAAA,2CAAA,uDAAA,2CAAA,0DAAA,OAAA,uEAAA,SAAA,iDAAA,uBAAA,mFAAA,8GAAA,2CAAA,qDAAA,OAAA,6DAAA,KAAA,kDAAA,WAAA,uDAAA,WAAA,sDAAA,AAAAC,0BAAA,+DAAA,WAAAC,jgBAKSE,6aAKMR;AAVf,AAWmB,OAACS,sBAAOT,SAAS,AAAA,AAAAM;mBAXpC,mFAAA,8GAAA,2CAAA,qDAAA,WAAA,6DAAA,KAAA,kDAAA,WAAA,uDAAA,WAAA,sDAAA,AAAAD,0BAAA,+DAAA,WAAAE,rgBAcSC,ibAKMN;AAnBf,AAoBmB,OAACO,sBAAOP,SAAS,AAAA,AAAAK;mBApBpC,mFAAA,2FAAA,mFAAA,8CAAA,AAAAF,+CAAA,mFAAA,gHAAA,2CAAA,2DAAA,OAAA,iDAAA,2CAAA,iDAAA,uBAAA,mFAAA,2GAAA,2CAAA,5tBAuBoCF,iKAC3BO,odACCC,mKAEA;AAAA,AACE,GAAI,EAAK,GAAK,uBAAA,AAAAN,vBAACO,uCAAQZ,kBAAW,GAAK,uBAAA,AAAAK,vBAACO,uCAAQV;AAC9C,AAAI,YAAA,ZAACW;;AACD,8BAAA,mFAAA,oEAAA,AAAAR,0BAAA,AAAAA,xMAACS,8LAAiCd,0BAAUE;;AAChD,8BAAA,mFAAA,4FAAA,tMAACY;;WA/Bf,gBAAA,mFAAA,2GAAA,2CAAA,4DAAA,nKAkCUH;AAlCV,AAmCkB,8BAAA,mFAAA,8EAAA,xLAACG;WAnCnB","names":["main.core.pages.login/login-page","username","reagent.core.atom","password","error-message","re_frame.core.subscribe","cljs.core/deref","p1__28848#","p1__28849#","js/module$node_modules$$mui$material$node$TextField$index.default","cljs.core/reset!","js/module$node_modules$$mui$material$node$ButtonGroup$index.default","js/module$node_modules$$mui$material$node$Button$index.default","cljs.core/empty?","js/console.log","re-frame.core/dispatch"],"sourcesContent":["(ns main.core.pages.login\r\n  (:require [\"@mui/material/TextField\" :default TextField]\r\n            [\"@mui/material/Button\" :default Button]\r\n            [\"@mui/material/ButtonGroup\" :default ButtonGroup]\r\n            [re-frame.core :as re-frame]\r\n            [reagent.core :as r]))\r\n\r\n(defn login-page\r\n  []\r\n  (let [username (r/atom \"\")\r\n        password (r/atom \"\")\r\n        error-message (re-frame/subscribe [:get-log-in-error-message])]\r\n    (fn []\r\n      [:div.outer-container\r\n       [:div.login-container [:h2 \"Login\"]\r\n        [:div.login-info-container\r\n         {:style {:display \"flex\", :flexDirection \"column\", :gap \"16px\"}}\r\n         [:> TextField\r\n          {:type \"text\",\r\n           :required true,\r\n           :id \"username\",\r\n           :label \"username\",\r\n           :value @username,\r\n           :on-change #(reset! username (-> %\r\n                                            .-target\r\n                                            .-value))}]\r\n         [:> TextField\r\n          {:type \"password\",\r\n           :required true,\r\n           :id \"password\",\r\n           :label \"password\",\r\n           :value @password,\r\n           :on-change #(reset! password (-> %\r\n                                            .-target\r\n                                            .-value))}]\r\n         [:div.login.error-message [:p @error-message]]\r\n         [:> ButtonGroup {:variant \"text\", :sx {:gap \"16px\"}}\r\n          [:> Button\r\n           {:onClick\r\n              (fn []\r\n                (if (and (not (empty? @username)) (not (empty? @password)))\r\n                  (do (js/console.log \"clicked log in\")\r\n                      (re-frame/dispatch [:login-check @username @password]))\r\n                  (re-frame/dispatch\r\n                    [:set-login-error-message\r\n                     \"Username and password cannot be empty\"])))} \"Login\"]\r\n          [:> Button\r\n           {:onClick #(re-frame/dispatch [:set-current-page :register])}\r\n           \"New Account\"]]]]])))\r\n"]}