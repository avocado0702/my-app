{"version":3,"sources":["main/app.cljs"],"mappings":";AAcA,wBAAA,xBAAMA;AAAN,AACE,mBAAA,AAAAC,fAAMC,+BAAc,sDAAA,mFAAA,zIAACC;AAArB,AACE,IAAAC,WAAMF;IAANE,eAAA,EAAA,CAAAA,oBAAAC,oBAAA,AAAAD,aAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,0FACSE;;;KADT;AAAA,0FAEUC;;;KAFV;AAAA,0FAGYC;;;KAHZ;AAAA,0FAIUC;;;KAJV;AAAA,0FAKaC;;;;AALb,0FAAA,mDAAA;;;;AAQJ,eAAA,fAAMC;AAAN,AACE,mBAAA,AAAAV,fAAMW,+BAAc,sDAAA,mFAAA,zIAACT;mBAArB,AAAAF,fACMC,+BAAc,sDAAA,mFAAA,zIAACC;AADrB,AAEE,YAAA,ZAACU,2BAA8BX;;AAC/B,oBAAIU;AAAJ,0FAAA,mDAAA,gIAAA,mFAAA,mDAAA,2CAAA,uDAAA,2CAAA,gEAAA,uBAAA,vZACSE,wBAAOZ,kdACwBF;;AACtC,IAAAe,WAAMb;IAANa,eAAA,EAAA,CAAAA,oBAAAV,oBAAA,AAAAU,aAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,0FACUN;;;KADV;AAAA,0FAEaC;;;;AAFb,0FAGGD;;;;;AAGT,gBAAA,hBAAMO;AAAN,AAEE,uBAAA,mFAAA,1GAACC;;AACD,iDAAA,jDAACC,oIAAYP,qBAAK,wBAAA,xBAAiBQ;;AACnC,mBAAA,ZAACN","names":["main.app/page-content","cljs.core/deref","current-page","re_frame.core.subscribe","G__12986","cljs.core/Keyword","main.core.pages.homepage/home-page","main.core.pages.about/about-page","main.core.pages.contact/contact-page","main.core.pages.login/login-page","main.core.pages.register/register-page","main.app/app","is-logged-in","js/console.log","main.core.navbar/navbar","G__12987","main.app/init","re-frame.core/dispatch","reagent.dom.render","js/document"],"sourcesContent":["(ns main.app\r\n  (:require [reagent.dom :as dom]\r\n            [re-frame.core :as re-frame]\r\n            [main.core.db]\r\n            [main.core.subs]\r\n            [main.core.events] \r\n            [main.core.navbar :refer [navbar]]\r\n            [main.core.pages.homepage :refer [home-page]]\r\n            [main.core.pages.about :refer [about-page]]\r\n            [main.core.pages.contact :refer [contact-page]]\r\n            [main.core.pages.login :refer [login-page]]\r\n            [main.core.pages.register :refer [register-page]]))\r\n\r\n\r\n(defn page-content []\r\n  (let [current-page @(re-frame/subscribe [:get-current-page])] \r\n    (case current-page\r\n      :home [home-page]\r\n      :about [about-page]\r\n      :contact [contact-page]\r\n      :login [login-page]\r\n      :register [register-page]\r\n      [:div \"Page not found\"])))\r\n\r\n(defn app []\r\n  (let [is-logged-in @(re-frame/subscribe [:is-logged-in])\r\n        current-page @(re-frame/subscribe [:get-current-page])] \r\n    (js/console.log \"the page now\" current-page)\r\n    (if is-logged-in\r\n      [:div [navbar current-page]\r\n       [:div {:style {:margin-top \"60px\"}} [page-content]]]\r\n      (case current-page\r\n        :login [login-page] ;; \u767b\u5f55\u9875\u9762\r\n        :register [register-page] ;; \u6ce8\u518c\u9875\u9762\r\n        [login-page]))))\r\n\r\n\r\n(defn init\r\n  []\r\n  (re-frame/dispatch [:initialize-db])\r\n  (dom/render [app] (.getElementById js/document \"app\"))\r\n  (js/console.log \"app start\" )\r\n  )\r\n"]}