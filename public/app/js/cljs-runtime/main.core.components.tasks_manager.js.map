{"version":3,"sources":["main/core/components/tasks_manager.cljs"],"mappings":"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","names":["main.core.components.tasks-manager/add-task","edited-tasks","next-id","cljs.core/deref","cljs.core/empty?","cljs.core.apply","cljs.core/max","cljs.core.map","new-task","js/module$node_modules$$mui$icons_material$AddCircle.default","re-frame.core/dispatch","main.core.components.tasks-manager/task-manager","selected-item-id","re_frame.core.subscribe","tasks","and__5000__auto__","cljs.core.not_EQ_","cljs.core/seq","iter__5480__auto__","s__27675","cljs.core/LazySeq","temp__5804__auto__","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__27677","cljs.core/chunk-buffer","i__27676","cljs.core/-nth","cljs.core/chunk-append","p1__27673#","cljs.core/chunk-cons","cljs.core/chunk","iter__27674","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","task","js/module$node_modules$$mui$material$node$TextField$index.default","cljs.core/chunk-first"],"sourcesContent":["(ns main.core.components.tasks-manager\r\n  (:require\r\n   [\"@mui/icons-material/AddCircle\" :default AddCircle]\r\n   [\"@mui/material/TextField\" :default TextField]\r\n   [re-frame.core :as re-frame]))\r\n\r\n(defn add-task\r\n  [edited-tasks]\r\n  (let [next-id (if (empty? @edited-tasks)\r\n                  1\r\n                  (inc (apply max (map :id @edited-tasks))))\r\n        new-task {:id next-id, :description \"\", :is-completed false}]\r\n    [:> AddCircle\r\n     {:sx {:color \"#D3D3D3\",\r\n           \"&:hover\" {:color \"#1877f2\", :cursor \"pointer\"},\r\n           :margin-left \"10px\"},\r\n      :on-click #(re-frame/dispatch [:add-default-task new-task])}]))\r\n\r\n\r\n(defn task-manager\r\n  [edited-tasks]\r\n  (let [selected-item-id (re-frame/subscribe [:get-selected-plan-id])\r\n        tasks (re-frame/subscribe [:tasks-by-plan-id @selected-item-id])]\r\n    (when (and @tasks (not= @edited-tasks @tasks)) (re-frame/dispatch [:set-edited-tasks @tasks]))\r\n    (fn []\r\n      [:div.tasks-manager\r\n       {:style {:display \"flex\",\r\n                :flexDirection \"column\",\r\n                :gap \"10px\",\r\n                :marginBottom \"20px\"}}\r\n       (if (seq @edited-tasks)\r\n         (for [task @edited-tasks]\r\n           ^{:key (:id task)}\r\n           [:div.task-item\r\n            [:> TextField\r\n             {:label (str \"Task \" (:id task)),\r\n              :variant \"outlined\",\r\n              :value (:description task),\r\n              :on-change #(re-frame/dispatch [:update-task-description (:id task) (-> % .-target .-value)]),\r\n              :fullWidth true,\r\n              :sx {:margin-top \"10px\"}}]])\r\n         [:p \"No tasks available\"])\r\n       ;; \u6dfb\u52a0\u4efb\u52a1\u6309\u94ae\r\n       [:div {:style {:display \"flex\", :justifyContent \"center\"}}\r\n        [add-task edited-tasks]]])))"]}