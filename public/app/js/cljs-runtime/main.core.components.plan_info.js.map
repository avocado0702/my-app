{"version":3,"sources":["main/core/components/plan_info.cljs"],"mappings":";AAIA,0CAAA,1CAAMA,4FACHC;AADH,AAAA,0FAAA,yDAAA,2CAAA,6DAAA;AAAA,AAGe,AAAI,gCAAA,hCAACC,sBAAOD;;AACR,mBAAA,YAAA,AAAAE,xBAACC,wCAA4BH;WAJhD;;AAMA,0CAAA,1CAAMI,4FACHJ,UAAUK;AADb,AAAA,0FAAA,yDAAA,2CAAA,6DAAA;AAAA,AAGe,AAAI,gCAAA,hCAACJ,sBAAOD;;AACR,uBAAA,mFAAA,1GAACM,4KAAgCD;;AACjC,mBAAA,ZAACF,qCAAwCE;WAL5D;;AAQA,2CAAA,3CAAME,8FACHF,cAAcL;AADjB,AAEE,IAAMQ,eAAa,AAACC,gDAAO,AAAA,qFAAQJ;IAC7BK,cAAY,AAACD,gDAAO,AAAA,oFAAOJ;AADjC,AAEE,YAAA,sCAAA,AAAAH,lDAACC,kEAAsDH;;AACvD,oBAAIK;AACF,oBAAA,AAAAH,gBAAKF;AAAL,0FAAA,kFAAA,mFAAA,iDAAA,oBAAA,mFAAA,uDAAA,mFAAA,sDAAA,mFAAA,kDAAA,mFAAA,iDAAA,kBAAA,mFAAA,iDAAA,mFAAA,sDAAA,2CAAA,qDAAA,OAAA,sEAAA,AAAAE,8BAAA,+DAAA,WAAAS,xFAQyBH;AARzB,AASqB,OAACP,sBAAOO,aAAa,AAAA,AAAAG;mCAT1C,mFAAA,kDAAA,mFAAA,iDAAA,oBAAA,mFAAA,iDAAA,mFAAA,6DAAA,2CAAA,sEAAA,AAAAT,6BAAA,+DAAA,WAAAU,vFAeyBF;AAfzB,AAgBqB,OAACT,sBAAOS,YAAY,AAAA,AAAAE;mDAhBzC,mFAmBIR,wCAASJ,UAAUK;;AAnBvB,0FAAA,wEAAA,mFAAA,oOAAA,mFAAA,kOAAA,xeAoBuB,CAAA,2DAAoB,AAAA,qFAAQA,mKAC5C,CAAA,6DAAsB,AAAA,oFAAOA,qHAChCN,wCAASC,UAAUK,cAAcG,aAAaE;;;AAvBpD,0FAAA,8CAAA","names":["main.core.components.plan-info/edit-btn","edit-mode","cljs.core/reset!","cljs.core/deref","js/console.log","main.core.components.plan-info/save-btn","selected-item","re-frame.core/dispatch","main.core.components.plan-info/plan-info","edited-title","reagent.core.atom","edited-text","p1__13056#","p1__13057#"],"sourcesContent":["(ns main.core.components.plan-info\r\n  (:require [re-frame.core :as re-frame]\r\n            [reagent.core :as r]))\r\n\r\n(defn edit-btn\r\n  [edit-mode]\r\n  [:button\r\n   {:on-click #(do (reset! edit-mode true)\r\n                   (js/console.log \"EDIT MODE\" @edit-mode))} \"Edit\"])\r\n\r\n(defn save-btn\r\n  [edit-mode selected-item]\r\n  [:button\r\n   {:on-click #(do (reset! edit-mode false)\r\n                   (re-frame/dispatch [:update-plan selected-item])\r\n                   (js/console.log \"current plan item is: \" selected-item))}\r\n   \"Save\"])\r\n\r\n(defn plan-info\r\n  [selected-item edit-mode]\r\n  (let [edited-title (r/atom (:titel selected-item))\r\n        edited-text (r/atom (:text selected-item))]\r\n    (js/console.log \"Rendering plan-info with edit-mode:\" @edit-mode)\r\n    (if selected-item\r\n      (if @edit-mode\r\n        [:div.plan-info-edit [:h2 \"Edit Plan\"]\r\n         [:table\r\n          [:tbody\r\n           [:tr [:td \"Title: \"]\r\n            [:td\r\n             [:input\r\n              {:type \"text\",\r\n               :default-value @edited-title,\r\n               :on-change #(reset! edited-title (-> %\r\n                                                    .-target\r\n                                                    .-value))}]]]\r\n           [:tr [:td \"Content: \"]\r\n            [:td\r\n             [:textarea\r\n              {:default-value @edited-text,\r\n               :on-change #(reset! edited-text (-> %\r\n                                                   .-target\r\n                                                   .-value))}]]]]]\r\n         [save-btn edit-mode selected-item]]\r\n        [:div.plan-info [:h2 (str \"Plan Title: \" (:titel selected-item))]\r\n         [:p (str \"Plan Content: \" (:text selected-item))]\r\n         [edit-btn edit-mode selected-item edited-title edited-text]])\r\n      [:p \"Select a plan to see details\"])))\r\n"]}